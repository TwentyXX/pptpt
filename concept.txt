絶対音感トレーニングプロジェクトツール

・メインページ
・設定ページ
・詳細スコアページ

・CDN使用禁止
・使って良いCDNはTone.jsのみ<script src="https://cdnjs.cloudflare.com/ajax/libs/tone/15.2.11/Tone.min.js" integrity="sha512-vkH9lwDNeEN+jAu/4xosPlv25WG78ftusaLQX3w7D9yiVaNarLGdVoDCoZqPtCP24LHvTO4TSGX+9nK0VCQO4g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
・アプリケーション利用者は自分のみ(色覚や聴覚に関して健常的でありページの構造を熟知した開発者)
・利用するプラットフォームがiPhoneだけなのでそれにのみ対応していれば良い
・IndexedDBでスコアと設定を保存
・楽器はローカルのTonejs-Instruments.jsに実装されている"全ての"サンプラーを利用
・正弦波も含む
・ローカルにすでにsw.jsを通してServiceWorkerを使用してサンプリングする音声ファイルをキャッシュ

・編集不可
concept.txt
sw.js
Tonejs-Instruments.js

・メインページ
・ランダムな楽器でランダムな高さの音を鳴らす
・出題される音の高さの範囲はユーザーがオプションで指定(C1-C8)
・回答締め切りまでの秒数をユーザーが指定できる時間制限付き(120まで入れられるかわりに無効化は不可)
・連続で近い音を出題しない、例えば2問目で出た音の±6半音以内の範囲は、3問目で出ないオプション(範囲はユーザーがオプションで指定、無効化も可)
・オクターブをまたいでも3度以内の音は連続して出題しない(範囲は「±3半音以内はオクターブをまたいでも連続出題しない」のように指定、無効化も可)
・条件に適した音がない場合、ランダムな音の高さを鳴らす
・ユーザーのゲーム開始ボタン押下を待ち、出題し、回答ボタン押下を待ち、答え合わせをし、ピンクノイズを鳴らし、自動で次の問題へ切り替わる
・ピンクノイズが再生されている間は正解音名が表示され続ける
・時間切れが起きた場合でもシナリオは同様
・時間切れは不正解扱い
・答え合わせ時には、正解音を鳴らす(無効化も可)
・次の問題へ切り替わる際のピンクノイズは、ユーザーが指定した音量・秒数鳴らす(0やチェックボックスで無効化も可)
・画面は上下に3分割で、上から順に、ステータス、回答ボタン群、アクションボタン群
・ステータス画面は左右三等分で左から順に、カウントダウンタイマー、正解音名、正答率
・ステータス画面はタップする必要はない
・音名は、「ド」「ガ」「レ」「ポ」「ミ」「ファ」「ウェ」「ゾ」「ビ」「ナ」「テ」「シ」の12種類
・回答ボタン群の形式は、音名が書いてある通常のボタン型、母音のみに絞った音名ボタン型がある
・回答ボタンはuser-select: none;が設定されていてclickではなくtouchstartで発火する
・回答ボタンを押したことによる音声フィードバックは禁止
・母音のみに絞った音名ボタン型を選んだ場合は、「あ」「い」「え」「お」の4種類が、選択された出題音名にかかわらず常に表示される
・回答ボタン群はランダムな順番に並び替えられる(無効化も可)
・ピンクノイズ再生直前にタップされた回答ボタンは選択状態から未タップ状態に戻る
・選択した直後に答え合わせとなるため、ボタンのように機能する
・ゲーム開始ボタンをWeb Audio APIのインタラクションとする
・ダークモードのみ
・スクロール無効
・タイトルへ戻るボタンがあり、押された場合、音声を停止し、出題を停止し、ゲーム開始画面まで戻る
・タイトルへ戻るボタンは常に有効であり、どんなタイミングでも押されたときに働く
・ページがバックグラウンドに隠れた場合は、記録をIndexedDBに書き込み、音声を停止し、出題を停止し、ゲーム開始画面まで戻る
・デバッグ情報をできるだけ多く含む


・詳細スコアページ
・メインページを開いたタイミング、その回でのゲーム開始から中断までの総時間数、問題への挑戦回数、正答率や回答速度などの詳細な情報をスペース区切りでテキストログとしても表示
・テキストログにはコピーボタン